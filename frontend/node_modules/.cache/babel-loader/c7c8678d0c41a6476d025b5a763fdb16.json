{"ast":null,"code":"export var BASE_URL='https://auth.nomoreparties.co';function checkResponse(response){try{if(response.ok){return response.json();}}catch(e){throw e;}}// регистрация\nexport var register=function register(password,email){return fetch(\"\".concat(BASE_URL,\"/signup\"),{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({password:password,email:email})}).then(checkResponse);};// авторизация\nexport var authorize=function authorize(password,email){return fetch(\"\".concat(BASE_URL,\"/signin\"),{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({password:password,email:email})}).then(checkResponse);};// получение данных по токену\nexport var checkTokenValidity=function checkTokenValidity(token){return fetch(\"\".concat(BASE_URL,\"/users/me\"),{method:'GET',headers:{'Accept':'application/json','Content-Type':'application/json',\"Authorization\":\"Bearer \".concat(token)}}).then(checkResponse);};","map":{"version":3,"sources":["C:/study projects/react-mesto-auth/src/utils/authorization.js"],"names":["BASE_URL","checkResponse","response","ok","json","e","register","password","email","fetch","method","headers","body","JSON","stringify","then","authorize","checkTokenValidity","token"],"mappings":"AAAA,MAAO,IAAMA,CAAAA,QAAQ,CAAG,+BAAjB,CAEP,QAASC,CAAAA,aAAT,CAAuBC,QAAvB,CAAiC,CAC7B,GAAI,CACA,GAAIA,QAAQ,CAACC,EAAb,CAAiB,CACb,MAAOD,CAAAA,QAAQ,CAACE,IAAT,EAAP,CACH,CACJ,CAAC,MAAOC,CAAP,CAAU,CACR,KAAMA,CAAAA,CAAN,CACH,CACJ,CAED;AACA,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,QAAD,CAAWC,KAAX,CAAqB,CACzC,MAAOC,CAAAA,KAAK,WAAIT,QAAJ,YAAuB,CAC/BU,MAAM,CAAE,MADuB,CAE/BC,OAAO,CAAE,CACL,SAAU,kBADL,CAEL,eAAgB,kBAFX,CAFsB,CAM/BC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAACP,QAAQ,CAARA,QAAD,CAAWC,KAAK,CAALA,KAAX,CAAf,CANyB,CAAvB,CAAL,CAOJO,IAPI,CAOCd,aAPD,CAAP,CAQH,CATM,CAWP;AACA,MAAO,IAAMe,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACT,QAAD,CAAWC,KAAX,CAAqB,CAC1C,MAAOC,CAAAA,KAAK,WAAIT,QAAJ,YAAuB,CAC/BU,MAAM,CAAE,MADuB,CAE/BC,OAAO,CAAE,CACL,SAAU,kBADL,CAEL,eAAgB,kBAFX,CAFsB,CAM/BC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAACP,QAAQ,CAARA,QAAD,CAAWC,KAAK,CAALA,KAAX,CAAf,CANyB,CAAvB,CAAL,CAOJO,IAPI,CAOCd,aAPD,CAAP,CAQH,CATM,CAWP;AACA,MAAO,IAAMgB,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,KAAD,CAAW,CACzC,MAAOT,CAAAA,KAAK,WAAIT,QAAJ,cAAyB,CACjCU,MAAM,CAAE,KADyB,CAEjCC,OAAO,CAAE,CACL,SAAU,kBADL,CAEL,eAAgB,kBAFX,CAGL,iCAA2BO,KAA3B,CAHK,CAFwB,CAAzB,CAAL,CAOJH,IAPI,CAOCd,aAPD,CAAP,CAQH,CATM","sourcesContent":["export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nfunction checkResponse(response) {\r\n    try {\r\n        if (response.ok) {\r\n            return response.json();\r\n        }\r\n    } catch (e) {\r\n        throw e;\r\n    }\r\n}\r\n\r\n// регистрация\r\nexport const register = (password, email) => {\r\n    return fetch(`${BASE_URL}/signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({password, email})\r\n    }).then(checkResponse);\r\n};\r\n\r\n// авторизация\r\nexport const authorize = (password, email) => {\r\n    return fetch(`${BASE_URL}/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({password, email})\r\n    }).then(checkResponse);\r\n};\r\n\r\n// получение данных по токену\r\nexport const checkTokenValidity = (token) => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    }).then(checkResponse);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}